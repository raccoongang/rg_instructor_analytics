## mako
<%! from django.utils.translation import ugettext as _ %>
<%namespace name='static' file='/static_content.html'/>
<%inherit file="/main.html" />
<%block name="bodyclass">view-instructor_analytics is-in-course course</%block>
<%block name="pagetitle">${_("Cohort Report")}</%block>
<%block name="headextra">
    <%static:css group='style-course'/>
    <!-- Plotly.js -->
    ## TODO: pin vendor libs!
    <script src="//cdn.plot.ly/plotly-latest.min.js"></script>

    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="${static.url('rg_instructor_analytics/css/instructor_analytics.css')}">

    <!-- froala. -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.min.css">
    <link href="//cdnjs.cloudflare.com/ajax/libs/froala-editor/2.7.3/css/froala_editor.pkgd.min.css" rel="stylesheet" type="text/css" />
    <link href="//cdnjs.cloudflare.com/ajax/libs/froala-editor/2.7.3/css/froala_style.min.css" rel="stylesheet" type="text/css" />
</%block>

<%include file="/courseware/course_navigation.html" args="active_page='cohort_report'" />

<div class="container">
    <div class="instructor-dashboard-wrapper-2">
        <main id="main" aria-label="Content" tabindex="-1">
            <section class="instructor-dashboard-content-2" id="instructor-analytics-dashboard-content">
              % if tabs:
                <ul class="instructor-nav">
                  % for tab in tabs:
                    <li class="nav-item">
                        <button type="button"
                                id="${tab['class']}-btn"
                                class="btn-link ${tab['class']}"
                                data-section="${tab['section']}">${tab['title']}
                        </button>
                    </li>
                  % endfor

                    <li>
                      <div class="cohort-dropdown-holder">
                        <div class="custom-select">
                           <select id="select_cohort" class="js-select-time-interval filter-dropdown" style="border: 2px solid #568ecc !important;">
                            %for cohort_info in available_cohorts:
                                <option
                                    value="${cohort_info['cohort_id']}"
                                    ${(cohort_info['is_current'] and 'selected' or '')}
                                    data-course-id="${cohort_info['course_id']}">
                                    ${cohort_info['cohort_name']}
                                </option>
                            %endfor
                          </select>
                        </div>
                      </div>
                    </li>
                </ul>

                % for tab in tabs:
                  <section id="section-${tab['class']}" class="idash-section">
                    <%include file="${tab['template']}" args="section_data={'course':course, 'cohort':cohort}" />
                  </section>
                % endfor
              % else:
                ${_('Unfortunately, Analytics was disabled by admin.')}
              % endif
            </section>
            <div class="course-dates-data" data-course-dates='${course_dates_info}'></div>
        </main>
    </div>
</div>

<%block name="js_extra">
<script src="${static.url('rg_instructor_analytics/js/utils.js')}"></script>
<script src="${static.url('rg_instructor_analytics/js/tab.js')}"></script>
<script src="${static.url('rg_instructor_analytics/js/tab-holder.js')}"></script>
<script src="${static.url('rg_instructor_analytics/js/enrollment-tab.js')}"></script>
<script src="${static.url('rg_instructor_analytics/js/activity-tab.js')}"></script>
<script src="${static.url('rg_instructor_analytics/js/problem-tab.js')}"></script>
<script src="${static.url('rg_instructor_analytics/js/cohort-funnel-tab.js')}"></script>
<script src="${static.url('rg_instructor_analytics/js/cohort-gradebook-tab.js')}"></script>
<script src="${static.url('rg_instructor_analytics/js/clusters-tab.js')}"></script>
<script src="${static.url('rg_instructor_analytics/js/suggestions-tab.js')}"></script>
<script src="${static.url('rg_instructor_analytics/js/base_cohorts.js')}"></script>
</%block>
